<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#3b82f6">
  <meta name="description" content="スマホで学ぶ英単語帳 - フラッシュカード形式で効率的に英語学習">
  <title>英単語帳 | Vocabulary Cards</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" type="image/svg+xml" href="icon.svg">
  <link rel="apple-touch-icon" href="icon.svg">
</head>
<body>
  <div id="app">
    <!-- ヘッダー -->
    <header class="header">
      <h1 class="header-title">英単語帳</h1>
      <button id="menu-btn" class="icon-btn" aria-label="メニューを開く" aria-expanded="false" aria-controls="menu-panel">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>
    </header>

    <!-- メニューパネル -->
    <div id="menu-panel" class="menu-panel" role="dialog" aria-label="メニュー" aria-hidden="true">
      <div class="menu-content">
        <button id="menu-close" class="icon-btn menu-close" aria-label="メニューを閉じる">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <nav class="menu-nav">
          <button class="menu-item active" data-view="cards">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <rect x="2" y="3" width="20" height="14" rx="2"></rect>
              <line x1="8" y1="21" x2="16" y2="21"></line>
              <line x1="12" y1="17" x2="12" y2="21"></line>
            </svg>
            フラッシュカード
          </button>
          <button class="menu-item" data-view="list">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <line x1="8" y1="6" x2="21" y2="6"></line>
              <line x1="8" y1="12" x2="21" y2="12"></line>
              <line x1="8" y1="18" x2="21" y2="18"></line>
              <circle cx="4" cy="6" r="1" fill="currentColor"></circle>
              <circle cx="4" cy="12" r="1" fill="currentColor"></circle>
              <circle cx="4" cy="18" r="1" fill="currentColor"></circle>
            </svg>
            単語一覧
          </button>
          <button class="menu-item" data-view="progress">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <path d="M12 20v-6M6 20v-4M18 20v-8"></path>
            </svg>
            学習進捗
          </button>
        </nav>
        <div class="menu-footer">
          <button id="reset-progress" class="btn-secondary">進捗をリセット</button>
        </div>
      </div>
    </div>
    <div id="menu-overlay" class="menu-overlay" aria-hidden="true"></div>

    <!-- メインコンテンツ -->
    <main class="main">
      <!-- フラッシュカードビュー -->
      <section id="cards-view" class="view active" aria-labelledby="cards-heading">
        <h2 id="cards-heading" class="visually-hidden">フラッシュカード学習</h2>
        
        <!-- 進捗バー -->
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="学習進捗">
          <div id="progress-fill" class="progress-fill"></div>
        </div>
        <div class="progress-text">
          <span id="current-index">1</span> / <span id="total-count">0</span>
        </div>

        <!-- カード -->
        <div class="card-container">
          <div id="flashcard" class="flashcard" tabindex="0" role="button" aria-label="カードをタップして裏面を見る">
            <div class="card-inner">
              <div class="card-front">
                <span id="card-word" class="card-word"></span>
              </div>
              <div class="card-back">
                <span id="card-meaning" class="card-meaning"></span>
                <p id="card-example" class="card-example"></p>
              </div>
            </div>
          </div>
        </div>

        <!-- カード操作 -->
        <div class="card-actions">
          <button id="btn-prev" class="btn-nav" aria-label="前の単語">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="rating-buttons">
            <button id="btn-forgot" class="btn-rating btn-forgot" aria-label="覚えていない">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
              <span>覚えていない</span>
            </button>
            <button id="btn-remembered" class="btn-rating btn-remembered" aria-label="覚えた">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
              <span>覚えた</span>
            </button>
          </div>
          <button id="btn-next" class="btn-nav" aria-label="次の単語">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>

        <!-- シャッフルボタン -->
        <button id="btn-shuffle" class="btn-shuffle" aria-label="カードをシャッフル">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
            <polyline points="16 3 21 3 21 8"></polyline>
            <line x1="4" y1="20" x2="21" y2="3"></line>
            <polyline points="21 16 21 21 16 21"></polyline>
            <line x1="15" y1="15" x2="21" y2="21"></line>
            <line x1="4" y1="4" x2="9" y2="9"></line>
          </svg>
          シャッフル
        </button>
      </section>

      <!-- 単語一覧ビュー -->
      <section id="list-view" class="view" aria-labelledby="list-heading">
        <h2 id="list-heading" class="visually-hidden">単語一覧</h2>
        
        <!-- 検索・フィルター -->
        <div class="list-controls">
          <div class="search-box">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <input type="search" id="search-input" placeholder="単語を検索..." aria-label="単語を検索">
          </div>
          <div class="filter-buttons" role="group" aria-label="フィルター">
            <button class="filter-btn active" data-filter="all">すべて</button>
            <button class="filter-btn" data-filter="remembered">覚えた</button>
            <button class="filter-btn" data-filter="forgot">未習得</button>
          </div>
        </div>

        <!-- 単語リスト -->
        <ul id="word-list" class="word-list" role="list" aria-label="単語一覧">
          <!-- JSで動的生成 -->
        </ul>
      </section>

      <!-- 進捗ビュー -->
      <section id="progress-view" class="view" aria-labelledby="progress-heading">
        <h2 id="progress-heading" class="section-title">学習進捗</h2>
        
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-value" id="stat-total">0</div>
            <div class="stat-label">総単語数</div>
          </div>
          <div class="stat-card stat-remembered">
            <div class="stat-value" id="stat-remembered">0</div>
            <div class="stat-label">覚えた</div>
          </div>
          <div class="stat-card stat-forgot">
            <div class="stat-value" id="stat-forgot">0</div>
            <div class="stat-label">未習得</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="stat-percentage">0%</div>
            <div class="stat-label">達成率</div>
          </div>
        </div>

        <div class="progress-chart">
          <h3 class="chart-title">学習状況</h3>
          <div class="chart-bar">
            <div id="chart-remembered" class="chart-segment remembered" style="width: 0%"></div>
            <div id="chart-forgot" class="chart-segment forgot" style="width: 0%"></div>
          </div>
          <div class="chart-legend">
            <span class="legend-item remembered">
              <span class="legend-dot"></span>覚えた
            </span>
            <span class="legend-item forgot">
              <span class="legend-dot"></span>未習得
            </span>
            <span class="legend-item unlearned">
              <span class="legend-dot"></span>未学習
            </span>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="words.js"></script>
  <script src="app.js"></script>
</body>
</html>
